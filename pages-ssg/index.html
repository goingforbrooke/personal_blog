<!DOCTYPE html>
<html lang="en">

<head>
    <title>Kill the Mad Scientist! Non-Jekyll Github Pages SSG | </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://www.goingforbrooke.com/personal_blog/style.css">
    <link rel="stylesheet" href="https://www.goingforbrooke.com/personal_blog/color/turquoise.css">

        <link rel="stylesheet" href="https://www.goingforbrooke.com/personal_blog/color/background_blue.css">
    
    <link rel="stylesheet" href="https://www.goingforbrooke.com/personal_blog/font-exo2.css">
    <link rel="stylesheet" href="https://www.goingforbrooke.com/personal_blog/font-hack.css">
    <meta name="description" content="">

    <meta property="og:description" content="">
    <meta property="og:title" content="Kill the Mad Scientist! Non-Jekyll Github Pages SSG | ">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://www.goingforbrooke.com/personal_blog/pages-ssg/">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="">
    <meta name="twitter:title" content="Kill the Mad Scientist! Non-Jekyll Github Pages SSG | ">
    <meta property="twitter:domain" content="www.goingforbrooke.com&#x2F;personal_blog&#x2F;">
    <meta property="twitter:url" content="https://www.goingforbrooke.com/personal_blog/pages-ssg/">

        <link rel="alternate" type="application/atom+xml" title=" Atom Feed" href="https://www.goingforbrooke.com/personal_blog/atom.xml" />
    
        <link rel="icon" href="/favicon.ico" sizes="32x32">
        <link rel="icon" href="/icon.svg" type="image/svg+xml">
        <link rel="apple-touch-icon" href="/apple-touch-icon.png"><!-- 180√ó180 -->
        <link rel="manifest" href="/manifest.webmanifest">
    
    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://www.goingforbrooke.com" style="text-decoration: none;">
                    <div class="logo">
                      
                            goingforbrooke.com
                        
                    </div>
                </a>
            </div>
        </div>

        
        
        
    </header>
    

    <div class="content">
        
    <div class="post">
        
    <h1 class="post-title"><a href="https://www.goingforbrooke.com/personal_blog/pages-ssg/">Kill the Mad Scientist! Non-Jekyll Github Pages SSG</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2023-05-10
        </span>

    </div>

    
        <span class="post-tags-inline">
                :: tags:&nbsp;
                <a class="post-tag" href="https://www.goingforbrooke.com/personal_blog/tags/cicd/">#cicd</a>&nbsp;
                <a class="post-tag" href="https://www.goingforbrooke.com/personal_blog/tags/github-actions/">#github_actions</a></span>
    

        <div class="post-content">
            <p>My first foray into Github Pages seemed like a warmup. Given how strongly Github <a href="https://web.archive.org/web/20230509160818/https://pages.github.com/">touts</a> its Jekyll integrations, I assumed that the process would painless. Ruby proved me wrong.</p>
<span id="continue-reading"></span><h1 id="woes-of-ruby"><a class="zola-anchor" href="#woes-of-ruby" aria-label="Anchor link for: woes-of-ruby">Woes of Ruby</a></h1>

  
  
    
    
  
  <img src="https://www.goingforbrooke.com/personal_blog/jekyll_quickstart.png" alt="screenshot of Jekyll&#x27;s quickstart page" class="center" style="border-radius: 8px;" decoding="async" loading="lazy"/>

<p>Jekyll‚Äôs quick start page belies the complexity of <a href="https://jekyllrb.com/docs/installation/macos/#install-ruby">properly installing Ruby</a>. It threw a bunch of clutter into my <code>.zshrc</code> and installed a bunch of non-standard tools on my machine. Keeping non-standard tools up to date was going to cost me more time down the line, and I still wound up editing HTML/CSS/JS on an unaesthetic theme.</p>
<h1 id="zola-to-the-rescue"><a class="zola-anchor" href="#zola-to-the-rescue" aria-label="Anchor link for: zola-to-the-rescue">Zola to the Rescue</a></h1>
<p>I swapped <a href="https://jekyllrb.com">Jekyll</a> for <a href="https://www.getzola.org">Zola</a> because I already had Rust on my box and, hey, Rust makes everything better. GitHub suggests <a href="https://github.com/actions/starter-workflows/tree/main/pages">other Static Site Generators (SSGs)</a> with existing CI workflows, but since I was going off the beaten path, I thought it better to double down on something fresh.</p>
<h1 id="curse-of-the-secret-sauce"><a class="zola-anchor" href="#curse-of-the-secret-sauce" aria-label="Anchor link for: curse-of-the-secret-sauce">Curse of the Secret Sauce</a></h1>
<p>Zola comes with a <a href="https://www.getzola.org/documentation/deployment/github-pages/">pre-built workflow</a> for publishing to Github Pages, but it has to fight with Pages‚Äô secret sauce.</p>

  
  
    
    
  
  <img src="https://www.goingforbrooke.com/personal_blog/secret_workflow.png" alt="screenshot of a github workflow called pages-build-deployment" class="center" style="border-radius: 8px;" decoding="async" loading="lazy"/>

<p>This is Github‚Äôs automatic publishing action for Pages, which isn‚Äôt defined in <code>.workflows</code> and likes to add itself to projects when repos meet one of the mysterious criteria that define a repo as a Pages repo. This meant that the output from my non-Jekyll SSG would be immediately overwritten by Jekyll‚Äôs ill-fated output from the <code>pages-build-deployment</code> Action. I navigated to my site‚Äôs URL, expecting to see a beautiful Zola-generated site, but found a bare HTML site.</p>
<p>These triggers aren‚Äôt defined in Github‚Äôs documentation and there‚Äôs a good bit of <a href="https://github.com/shalzz/zola-deploy-action/pull/67#issuecomment-1436766564">discourse</a> about how they <a href="https://stackoverflow.com/a/72743923">seem impossible to disable</a>. The triggers seem to be:</p>
<ol>
<li>naming a repo <code>{{username}}.githhub.io</code></li>
<li>setting up Pages in the ‚ÄúPages‚Äù tab of a repo‚Äôs settings</li>
<li>adding a <code>.yaml</code> workflow in <code>.workflows/</code> that pushes to the <code>gh-pages</code> branch</li>
</ol>
<h1 id="recommended-solutions"><a class="zola-anchor" href="#recommended-solutions" aria-label="Anchor link for: recommended-solutions">Recommended Solutions</a></h1>
<p>To disable Jekyll builds, GitHub <a href="https://github.blog/2009-12-29-bypassing-jekyll-on-github-pages/">recommends</a> adding an empty <code>.nojekyll</code> file ‚Äúto the root of your pages repo.‚Äù Initially, this didn‚Äôt work because <code>.nojekyll</code> needs to exist at the root of the branch that Pages deploys from. The secret sauce defaults to <code>gh-pages</code>, but adding <code>.nojekyll</code> to <code>gh-pages</code> won‚Äôt help because most SSGs blow away the branch's contents on each build. With Zola, I accomplished this by adding <code>.nojekyll</code> to <code>static/</code> in the <code>main</code> branch, which delivered <code>.nojekyll</code> to the root of <code>gh-pages</code>. Still, the secret sauce paid it no heed and my site was soon overwritten by Jekyll.</p>
<blockquote>
<p>Update (25-1-10): Publishing to Pages <a href="https://github.blog/changelog/2022-07-27-github-pages-custom-github-actions-workflows-beta/">from Actions</a> instead of from the <a href="https://github.com/orgs/community/discussions/57010#discussioncomment-6076233"><code>gh-pages</code> branch</a> is the preferred way to disable Jekyll builds.</p>
</blockquote>
<h1 id="my-solution"><a class="zola-anchor" href="#my-solution" aria-label="Anchor link for: my-solution">My Solution</a></h1>
<p>To fix the problem, I had to excise Actions from the repo.</p>
<p>First, I ignored the recommendation to use Actions for ‚Äúcustomizing my build process‚Äù in Repo -&gt; Settings -&gt; Pages -&gt; Build and Deployment. Instead, I restricted Pages to branch deployments.</p>

  
  
    
    
  
  <img src="https://www.goingforbrooke.com/personal_blog/branch_deploy.png" alt="screenshot of a github workflow called pages-build-deployment" class="center" style="border-radius: 8px;" decoding="async" loading="lazy"/>

<p>Second, I disabled all Actions with the exception of workflows defined by me. Choosing ‚ÄúAllow goingforbrooke actions and reusable workflows‚Äù doesn‚Äôt stop the Pages secret sauce, so I allowed all of the repo‚Äôs workflows that match <code>*</code>. This is found in Repo -&gt; Settings -&gt; Actions -&gt; General -&gt; Actions Permissions.</p>

  
  
    
    
  
  <img src="https://www.goingforbrooke.com/personal_blog/actions_permissions.png" alt="screenshot of a github workflow called pages-build-deployment" class="center" style="border-radius: 8px;" decoding="async" loading="lazy"/>

<h1 id="takeaways"><a class="zola-anchor" href="#takeaways" aria-label="Anchor link for: takeaways">Takeaways</a></h1>
<p>With that, I have a blog that automatically updates when I push to it. üéâ</p>
<p>If you‚Äôd like to use anything that I‚Äôve built here, feel free to copy-pasta my workflow for <a href="https://github.com/goingforbrooke/personal_blog/blob/main/.github/workflows/publish_site.yaml">automatically pushing a website</a>. It‚Äôs <a href="https://github.com/shalzz/zola-deploy-action">Zola‚Äôs deploy action</a> with the <a href="https://github.com/goingforbrooke/personal_blog/blob/b356b5af56c525eb570be10e1c37911a2d4a298b/.github/workflows/publish_site.yaml#LL12C23-L12C23">exception</a> of changing <code>zola-deploy-action</code> to <code>master</code>. This prevents an <a href="https://github.com/shalzz/zola-deploy-action/issues/71#issuecomment-1501488817">issue</a> in Zola.</p>
<h1 id="final-thoughts"><a class="zola-anchor" href="#final-thoughts" aria-label="Anchor link for: final-thoughts">Final Thoughts</a></h1>
<p>Image hosting may become an issue if Github isn‚Äôt happy about the number of screenshots that I‚Äôm including in my posts. I also groan a little each time I commit an image to Git when it should really be hosted elsewhere. An S3-backed hosting option <a href="https://wpengine.com/support/configuring-largefs-store-transfer-unlimited-data/">like the one for WordPress</a> would be great, but I get the feeling that I‚Äôll need to code it myself.</p>
<p><a href="https://www.getzola.org/documentation/templates/overview/">Zola</a>'s been a gem so far with more features than I know what to do with. I‚Äôve yet to explore nifty things like filtering posts by tags, search indexing, and automatic image resizing. The real upside is that I feel confident in my ability to extend the project with anything else that I could want.</p>
<p>I wonder if I‚Äôve taken my site design too far and created something that won‚Äôt appeal to a technical audience. I earnestly want to make a great web experience for my readers, but perhaps a basic HTML site without SSL would‚Äôve sufficed.</p>
<blockquote class="twitter-tweet"><p lang="en" dir="ltr">A rare counterexample to the principle of specialization: your site should never seem like it was made by communications people, and the best way to achieve this is for it not to be. This is something founders should continue to micromanage forever.</p>&mdash; Paul Graham (@paulg) <a href="https://twitter.com/paulg/status/1654765304184971264?ref_src=twsrc%5Etfw">May 6, 2023</a></blockquote> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>For any Microsoft developers reading this, I appreciate what you‚Äôve done so far and I‚Äôd like to see your product gain wider adoption so I can use it on enterprise networks in exchange for green slips of paper. The design concepts are solid and I catch glimpses of the simplicity that made (pre-acquisition?) GitHub wonderful. To love Actions, I need well-maintained Actions for popular toolchains. I also need GUI-only controls to move to versioned config files so there‚Äôs no backend smoke and mirrors.</p>

        </div>

        
            <div class="pagination">
                <div class="pagination__title">
                    <span class="pagination__title-h">Would you like to know more?</span>
                    <hr />
                </div>
                <div class="pagination__buttons">
                    
                        <span class="button next">
                            <a href="https://www.goingforbrooke.com/personal_blog/actions-reflections/">
                                <span class="button__text">Reflections on Github Actions</span>&nbsp;
                                <span class="button__icon">‚Üí</span>
                            </a>
                        </span>
                    </div>
            </div>
        
    </div>

    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>¬© 
    2025
 Brooke Deuson</span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-HD5RZH5144"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'G-HD5RZH5144');
</script>

</html>
